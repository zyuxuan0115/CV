% resume.sty

% Copyright (c) 2012 Cies Breijs
% MIT License (see original header)

%%% LOAD AND SETUP PACKAGES

% To finetune lists with an inline heading and indented content.
\usepackage{mdwlist}

% For multiple column text.
\usepackage{multicol}

% For \textscale, which is nicer than \sc (small caps).
\usepackage{relsize}

% Setup hyperrefs with the right color.
\usepackage{hyperref}
\usepackage{xcolor}
\definecolor{dark-blue}{rgb}{0.15,0.15,0.4}
\hypersetup{colorlinks,linkcolor={dark-blue},citecolor={dark-blue},urlcolor={dark-blue}}

% XeTeX specific stuff with fall-back.
\usepackage{ifxetex}
\ifxetex
  \usepackage{fontspec}
  % main font (TeX Gyre Pagella) with features
  \setmainfont
    [ ExternalLocation ,
      Mapping          = tex-text ,
      Numbers          = OldStyle ,
      Ligatures        = {Common,Contextual} ,
      BoldFont         = texgyrepagella-bold.otf ,
      ItalicFont       = texgyrepagella-italic.otf ,
      BoldItalicFont   = texgyrepagella-bolditalic.otf ]
    {texgyrepagella-regular.otf}
  % same as main font, but without old-style numbers
  \newfontfamily\newnums
    [ ExternalLocation ,
      Mapping          = tex-text ,
      Ligatures        = {Common,Contextual} ,
      BoldFont         = texgyrepagella-bold.otf ,
      ItalicFont       = texgyrepagella-italic.otf ,
      BoldItalicFont   = texgyrepagella-bolditalic.otf ]
    {texgyrepagella-regular.otf}
  % If you prefer Linux Libertine:
  % \setmainfont[Mapping=tex-text, Numbers=OldStyle, Ligatures={Common,Contextual}]{Linux Libertine O}
  \usepackage[protrusion]{microtype}
\else
  % pdfTeX backend fallback
  \usepackage{tgpagella}
  \usepackage[expansion,protrusion]{microtype}
\fi

%%% DOCUMENT WIDE STYLING

\pagestyle{empty}
\setlength{\tabcolsep}{0em}
\xspaceskip7pt  % more spacing between sentences

%%% CUSTOM COMMANDS

% main title (name) with subtitle (date)
\newcommand\maintitle[3]{\vbox to 0pt{\hfill\scriptsize\color{gray} #3}\vspace{-0.4em}\noindent{\LARGE \textbf{#1}}\ \ \ \emph{#2}}

% title for the root sections (experience, education, etc.)
\newcommand*\roottitle[1]{\subsection*{#1}\vspace{-0.3em}\nopagebreak[4]}

% acr command for acronyms
\newcommand*\acr[1]{\textscale{.85}{#1}}

% pretty bullet
\newcommand*\bull{\raisebox{-0.365em}[-1em][-1em]{\textscale{4}{$\cdot$}}}
\newcommand*\sbull{\ \ \bull \ \ }

% indented list environment
\newlength{\newparindent}
\addtolength{\newparindent}{\parindent}

\newlength{\doubleparindent}
\addtolength{\doubleparindent}{\parindent}
\addtolength{\doubleparindent}{\parindent}

\newenvironment{indentsection}%
{\begin{list}{}%
  {\setlength{\leftmargin}{\newparindent}\setlength{\parsep}{0pt}\setlength{\parskip}{0pt}\setlength{\itemsep}{0pt}\setlength{\topsep}{0pt}}%
}
{\end{list}}

% header row (employer/institution)
\newcommand{\headedsection}[3]{\nopagebreak[4]\begin{indentsection}\item[]\textscale{1.1}{#1}\hfill#2#3\end{indentsection}\nopagebreak[4]}

% subheader row (position/degree)
\newcommand{\headedsubsection}[3]{\nopagebreak[4]\begin{indentsection}\item[]\emph{#1}\hfill\emph{#2}#3\end{indentsection}\nopagebreak[4]}

% body text (indented)
\newcommand{\bodytext}[1]{\nopagebreak[4]\begin{indentsection}\item[]#1\end{indentsection}\pagebreak[2]}

% vertical spacing helpers
\newcommand{\breakvspace}[1]{\pagebreak[2]\vspace{#1}\pagebreak[2]}
\newcommand{\nobreakvspace}[1]{\nopagebreak[4]\vspace{#1}\nopagebreak[4]}

% horizontal rule with spacing
\newcommand{\spacedhrule}[2]{\breakvspace{#1}\hrule\nobreakvspace{#2}}

% inline headed section (e.g., Teaching, Skills)
\newcommand{\inlineheadsection}[2]{\begin{basedescript}{\setlength{\leftmargin}{\doubleparindent}}\item[\hspace{\newparindent}\textbf{#1}]#2\end{basedescript}\vspace{-1.7em}}

% apostrophe that looks good with old-style nums
\newcommand{\apo}{\raisebox{-.18ex}{'}{\hspace{-.1em}}}

% non-space that allows line breaks
\newcommand*{\nsp}{\hskip0pt}

%%% MORE SPECIFIC COMMANDS

% C++
\newcommand{\CPP}{C\nolinebreak[4]\hspace{-.04em}\raisebox{.20ex}{\footnotesize\bf++}}

